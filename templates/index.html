{% extends "base.html" %}

{% block global_chat %}
{% match user %}
{% when Some with (_) %}
<!-- Global Chat (cross-board) -->
<div class="chat-container" id="global-chat-container">
    <div class="chat-messages" id="global-chat-messages"></div>
    <form class="chat-bar" id="global-chat-form">
        <button type="button" class="chat-toggle-btn" id="global-chat-toggle">
            <i class="bi bi-chevron-up"></i>
        </button>
        <div class="chat-input-group">
            <input type="text" class="chat-input" id="global-chat-input"
                   placeholder="Ask about any board..." autocomplete="off">
            <button type="submit" class="chat-send-btn">Send</button>
        </div>
    </form>
</div>
{% when None %}
{% endmatch %}
{% endblock %}

{% block nav_right %}
{% match user %}
{% when Some with (name) %}
<li class="nav-item"><a class="nav-link" href="/boards">Boards</a></li>
<li class="nav-item">
    <form method="post" action="/logout" class="d-inline">
        <button type="submit" class="nav-link btn btn-link">Logout ({{ name }})</button>
    </form>
</li>
{% when None %}
<li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
<li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
{% endmatch %}
{% endblock %}

{% block content %}
<div class="text-center py-5">
    <h1 class="display-4">Personal Operating System</h1>
    <p class="lead">Organize your life with a Kanban-based task management system.</p>
    {% match user %}
    {% when Some with (_) %}
    <a href="/boards" class="btn btn-primary btn-lg">Go to Boards</a>
    {% when None %}
    <a href="/register" class="btn btn-primary btn-lg me-2">Get Started</a>
    <a href="/login" class="btn btn-outline-secondary btn-lg">Login</a>
    {% endmatch %}
</div>
{% endblock %}
